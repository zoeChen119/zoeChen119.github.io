---
title: 智能客服技术综述
date: 2022-10-09 14:24:56 +/-0800
categories: [NLP,基础知识]
tags: [nlp,技术综述]     # TAG names should always be lowercase
---
# 智能客服技术综述
线上问答和线下问答？
## 问答技术三大类
### 1.基于知识图谱的问答
以小米为例，他们构建的知识图谱<font color=DeepSkyBlue>三元组</font>数量有数百亿，<font color=DeepSkyBlue>实体量</font>数量有数十亿+。
针对**线上问答**：
* #### 基于模版的方法
核心思想是在模板库中找到与用户Query最相似的模板，按照模板在知识图谱中的解析过程找到Query的答案。
![](/assets/img/2022-10-09-智能客服系统综述/2022-10-09-16-37-13.png)

会遇到的问题：
（1）**构建模板库**
如何以较低的人力成本构建高质量模板库？
**答**：用百科类结构化数据，构建基本的模板库，然后把相似的Query合并入模板库对模板库进行扩充。
（2）**带约束**的问题如何匹配
如果Query中包含“约束”，比如时间约束---某段时间内、最大值最小值约束、位置约束---在某个地方...如何匹配Query和模板库？
**答**：抽取约束词，约束条件等，把这些和抽取到的实体，属性等一起用来在知识图谱中进行查询。谦虚操作要对属性进行归一化，方法是同义词替换，词向量相似度高的替换，句对相似度高的替换；
![](/assets/img/2022-10-09-智能客服系统综述/2022-10-09-16-57-12.png)
假如是一个模糊问题，比如“世界上最大的动物”，没有定义这个‘大’是指体积/高度/体重/咬合力/展翅/...，可以对这个‘大’设置默认的属性排列顺序。

优缺点：
![](/assets/img/2022-10-09-智能客服系统综述/2022-10-09-16-58-41.png)

* #### 跨垂域粗粒度的语义解析方法


* #### 基于路径匹配的方法

### 2.基于检索的FAQ问答
#### 常用匹配模型
![](/assets/img/2022-10-09-智能客服系统综述/2022-10-09-18-00-34.png)
传统的匹配模型是通过字面匹配构建特征，然后通过机器学习模型计算得到句对的语义相似度。目前深度学习方法占据主流，主要有两种方法，一种是根据两个句子的向量联合对相似度进行表征的Representation_based Methods，如DSSM模型，另一种是对两个句子两两词之间的相关度进行表征的Intercation-based Methods，如ESIM等模型。使用大规模预训练语言模型进行句对匹配的方式，也是属于第二种类别。
#### 模型训练方法
![](/assets/img/2022-10-09-智能客服系统综述/2022-10-09-18-02-11.png)

#### case 2.1：小米FAQ问答系统框架
![](/assets/img/2022-10-09-智能客服系统综述/2022-10-09-16-09-31.png)
基于检索的FAQ问答针对的是非结构化的Query，比如WHY、HOW、WHETHER类的问题等，如图所示是一个FAQ问答框架，右半部分是线下工作，主要是问答库的线下建设。左半部分是线上的技术流程，主要包括意图理解、检索、语义匹配和重排序等步骤

语义匹配方面会遇到**语义焦点**的问题，例如“圆柱体的体积如何计算”和“圆柱体的面积怎么算”，这两个句子只有核心词不一样，会容易造成模型误判，因此可以引入一些额外特征强化模型对核心词的学习。如图所示，额外特征为提取的关键词，通过PLM对关键词进行表征，并与原句子的特征进行级联以计算相似度
![](/assets/img/2022-10-09-智能客服系统综述/2022-10-09-16-20-42.png)

语义检索：
研究者提出了很多ANN最近邻算法优化检索性能。如上图所示，IVF的思路是将doc向量进行聚类，找到与用户Query最近的类，然后在类内找到最近的语义向量，这样可以明显减少耗时，但无法解决语义向量占用内存高的问题。PQ则是牺牲一定的精度，将高维语义向量进行降维，获取更低的内存占用。将PQ与IVF联合可以得到IVFPQ，它首先找到与用户Query最近的类，将类内的语义向量进行降维，这样既可以降低内存占用，又可以提升性能。HNSW是一个分层的最近邻网络，越上层是越粗略的层，越下层是越细致的层。首先根据用户Query在最上层找到最近的节点，然后映射到下一层找到下一层中最近的点，依次类推得到最后的结果。它同样可以与IVF进行结合得到HNSW+IVFPQ的检索方式。

### case 1：腾讯智能客服技术架构
![](/assets/img/2022-10-09-智能客服系统综述/2022-10-09-14-25-35.png)


https://mp.weixin.qq.com/s/Ys6aFq9Wl_asT2ycHZUp5w

https://zhuanlan.zhihu.com/p/434821253